# 📚 React - State Hook

> 💡 

**함수형 컴포넌트(`Functional Component`)는 React에서 컴포넌트를 정의하는 방식 중 하나입니다.**

**예전에는 클래스형 컴포넌트가 많이 사용되었지만, `React 16.8 `이후 Hook이 도입되면서 함수형 컴포넌트가 표준처럼 자리 잡았습니다.**

## Hooks 란?
* Hook은 React 16.8부터 Hooks가 도입되었습니다. 
* Hook을 이용하여 기존 Class 바탕의 코드를 작성할 필요 없이 상태 값과 여러 React의 기능을 사용할 수 있습니다.
* 함수형 컴포넌트에서 생명주기 등 기능을 가능하게 해주는 API

## state 변수 선언하기
* 여기서 `useState`가 바로 Hook 입니다.
* Hook을 호출해 함수 컴포넌트 안에 `state`를 추가했습니다.
* 대괄호를 이용하여 `state` 변수를 선언할 수 있습니다. 변수명은 원하는 대로 선언
* `useState`는 현재의 `state` 값과 이 값을 업데이트하는 함수를 쌍으로 제공합니다.
* `useState`는 인자로 초기 `state` 값을 하나 받습니다. (카운터는 0부터 시작하기 때문에 초기값으로 0을 넣어줌)
* 이 초기값은 첫 번째 렌더링에만 딱 한번 사용됩니다.

```javascript
import React, { useState } from 'react';

function Example() {
  // "count"라는 새 상태 변수를 선언합니다
  const [count, setCount] = useState(0);
```
* 하나의 컴포넌트 내에서 내에서 State Hook을 여러 개 또는,여러 타입으로 사용할 수도 있습니다.
```javascript
function ExampleWithManyStates() {
  const [age, setAge] = useState(42); // 숫자 타입
  const [fruit, setFruit] = useState('apple'); // 문자 타입
  const [todos, setTodos] = useState([ // 배열 타입
      { text: 'Learn Hooks' },
      { text: 'Functional' },
  ]);
    const [user, setUser] = useState({ // 객체 타입
        name: 'Jane',
        age: 30,
    });
}
```

## state 기져오기 
* 클래스 컴포넌트는 count를 보여주기 위해 `this.state.count`를 사용하였지만,
```javascript
  <p>You clicked {this.state.count} times</p>
```
* 함수 컴포넌트는 count를 직접 사용할 수 있습니다.
* `this`를 사용하지 않아 헷갈리지 않게 됨 
```javascript
<p>You clicked {count} times</p>
```

## state 갱신하기 
* 클래스 컴포넌트는 count를 갱신하기 위해 `this.setState()`를 호출합니다.
```javascript
  <button onClick={() => this.setState({ count: this.state.count + 1 })}>
    Click me
  </button>
```
* 반면 함수 컴포넌트는 `setCount`와 `count` 변수를 가지고 있으므로 `this`를 호출하지 않아도 됩니다.
* `setCount` 함수를 호출하여 `state` 변수를 갱신하여 코드가 단순헤 졌다.
```javascript
  <button onClick={() => setCount(count + 1)}>
    Click me
  </button>
```

## 전체 코드 흐름
1. useState Hook을 React에서 가져옵니다.
2. state 변수(`count`)와 해당 state를 갱신할 수 있는 함수(`setCount`) 생성
3. 버튼 클릭 시 `setCount` 함수를 호출하여 `state` 변수를 갱신
```javascript
import React, { useState } from 'react';

function Example() {
  // "count"라는 새 상태 변수를 선언합니다
  const [count, setCount] = useState(0);

  return (
    <div>
      <p>You clicked {count} times</p>
      <button onClick={() => setCount(count + 1)}>
        Click me
      </button>
    </div>
  );
}
```